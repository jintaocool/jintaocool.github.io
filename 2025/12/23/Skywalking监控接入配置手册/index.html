<!DOCTYPE html>


<html lang="zh-CN">
  

    <head>
      <meta charset="utf-8" />
       
      <meta name="keywords" content="åšå®¢" />
       
      <meta name="description" content="æ—¥å¸¸éšç¬”" />
      
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title>Skywalkingç›‘æ§æ¥å…¥é…ç½®æ‰‹å†Œ |  Lijintao&#39;s Blog</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon.ico" />
       
<link rel="stylesheet" href="/dist/main.css">

      
<link rel="stylesheet" href="/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    <link rel="alternate" href="/atom.xml" title="Lijintao's Blog" type="application/atom+xml">
</head>
  </html>
</html>


<body>
  <div id="app">
    
      <canvas class="fireworks"></canvas>
      <style>
        .fireworks {
          position: fixed;
          left: 0;
          top: 0;
          z-index: 99999;
          pointer-events: none;
        }
      </style>
      
      
    <main class="content on">
      <section class="outer">
  <article
  id="Skywalking-Skywalkingç›‘æ§æ¥å…¥é…ç½®æ‰‹å†Œ"
  class="article article-type-Skywalking"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h1 class="article-title sea-center" style="border-left:0" itemprop="name">
  Skywalkingç›‘æ§æ¥å…¥é…ç½®æ‰‹å†Œ
</h1>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2025/12/23/Skywalking%E7%9B%91%E6%8E%A7%E6%8E%A5%E5%85%A5%E9%85%8D%E7%BD%AE%E6%89%8B%E5%86%8C/" class="article-date">
  <time datetime="2025-12-23T02:25:20.000Z" itemprop="datePublished">2025-12-23</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Skywalking/">Skywalking</a>
  </div>
  
<div class="word_count">
    <span class="post-time">
        <span class="post-meta-item-icon">
            <i class="ri-quill-pen-line"></i>
            <span class="post-meta-item-text"> å­—æ•°ç»Ÿè®¡:</span>
            <span class="post-count">5k</span>
        </span>
    </span>

    <span class="post-time">
        &nbsp; | &nbsp;
        <span class="post-meta-item-icon">
            <i class="ri-book-open-line"></i>
            <span class="post-meta-item-text"> é˜…è¯»æ—¶é•¿â‰ˆ</span>
            <span class="post-count">23 åˆ†é’Ÿ</span>
        </span>
    </span>
</div>
 
    </div>
      
    <div class="tocbot"></div>




  
    <div class="article-entry" itemprop="articleBody">
       
  <h3 id="ä¸€ã€Skywalkingç®€ä»‹ï¼š"><a href="#ä¸€ã€Skywalkingç®€ä»‹ï¼š" class="headerlink" title="ä¸€ã€Skywalkingç®€ä»‹ï¼š"></a>ä¸€ã€Skywalkingç®€ä»‹ï¼š</h3><p>SkyWalking æ˜¯ä¸€æ¬¾å¼€æºçš„åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ªç›‘æ§å·¥å…·ï¼Œä¸“ä¸ºå¾®æœåŠ¡æ¶æ„è®¾è®¡ï¼Œæä¾›ä»¥ä¸‹æ ¸å¿ƒèƒ½åŠ›ï¼š</p>
<ul>
<li><p><strong>æœåŠ¡æ‹“æ‰‘å¯è§†åŒ–</strong>ï¼šå±•ç¤ºæœåŠ¡é—´è°ƒç”¨å…³ç³»</p>
</li>
<li><p><strong>æ€§èƒ½<strong><strong>æŒ‡æ ‡</strong></strong>ç›‘æ§</strong>ï¼šè¿½è¸ªè¯·æ±‚é“¾è·¯ï¼Œåˆ†ææœåŠ¡æ€§èƒ½ç“¶é¢ˆ</p>
</li>
<li><p><strong>åˆ†å¸ƒå¼****è¿½è¸ª</strong>ï¼šè·¨æœåŠ¡è°ƒç”¨è¿½è¸ª</p>
</li>
<li><p><strong>å‘Šè­¦ç³»ç»Ÿ</strong>ï¼šåŸºäºè§„åˆ™è§¦å‘æ€§èƒ½å‘Šè­¦</p>
</li>
<li><p><strong>æ—¥å¿—é›†æˆ</strong>ï¼šä¸æ—¥å¿—ç³»ç»Ÿæ— ç¼é›†æˆ</p>
</li>
</ul>
<blockquote>
<p>é€‚ç”¨åœºæ™¯ï¼šå¾®æœåŠ¡æ¶æ„ã€äº‘åŸç”Ÿåº”ç”¨ã€åˆ†å¸ƒå¼ç³»ç»Ÿæ€§èƒ½åˆ†æ</p>
</blockquote>
<h6 id="é€»è¾‘æ¶æ„ä¸æ•°æ®æµå›¾ï¼š"><a href="#é€»è¾‘æ¶æ„ä¸æ•°æ®æµå›¾ï¼š" class="headerlink" title="é€»è¾‘æ¶æ„ä¸æ•°æ®æµå›¾ï¼š"></a>é€»è¾‘æ¶æ„ä¸æ•°æ®æµå›¾ï¼š</h6><h6 id=""><a href="#" class="headerlink" title=""></a><img src="/images/1766456626-05ccfea5d0d6eb07d07d4ac2a2fcede9.jpeg"></h6><h6 id="æŠ€æœ¯æ¶æ„ï¼š"><a href="#æŠ€æœ¯æ¶æ„ï¼š" class="headerlink" title="æŠ€æœ¯æ¶æ„ï¼š"></a>æŠ€æœ¯æ¶æ„ï¼š</h6><p><img src="/images/1766456626-f7f48ebf1d6ba8cbf26c406f206dce46.png"></p>
<h3 id="äºŒã€Skywalkingç»Ÿä¸€æ§åˆ¶å°ï¼š"><a href="#äºŒã€Skywalkingç»Ÿä¸€æ§åˆ¶å°ï¼š" class="headerlink" title="äºŒã€Skywalkingç»Ÿä¸€æ§åˆ¶å°ï¼š"></a>äºŒã€Skywalkingç»Ÿä¸€æ§åˆ¶å°ï¼š</h3><p><strong>ç”Ÿäº§ç¯å¢ƒ</strong>è®¿é—®åœ°å€ï¼šskywalking.haier.net</p>
<p><strong>æµ‹è¯•ç¯å¢ƒ</strong>è®¿é—®åœ°å€ï¼šskywalking.paas-sit.haier.net</p>
<h3 id="ä¸‰ã€åº”ç”¨æ¥å…¥æŒ‡å—"><a href="#ä¸‰ã€åº”ç”¨æ¥å…¥æŒ‡å—" class="headerlink" title="ä¸‰ã€åº”ç”¨æ¥å…¥æŒ‡å—"></a>ä¸‰ã€åº”ç”¨æ¥å…¥æŒ‡å—</h3><h4 id="3-1-å®¹å™¨åŒ–é¡¹ç›®-kubesphere"><a href="#3-1-å®¹å™¨åŒ–é¡¹ç›®-kubesphere" class="headerlink" title="3.1 å®¹å™¨åŒ–é¡¹ç›®(kubesphere)"></a>3.1 å®¹å™¨åŒ–é¡¹ç›®(kubesphere)</h4><h5 id="3-1-1-Javaåº”ç”¨"><a href="#3-1-1-Javaåº”ç”¨" class="headerlink" title="3.1.1 Javaåº”ç”¨"></a>3.1.1 Javaåº”ç”¨</h5><h6 id="jaråŒ…"><a href="#jaråŒ…" class="headerlink" title="jaråŒ…"></a>jaråŒ…</h6><ol>
<li><p>åº”ç”¨é•œåƒæ„å»ºæ—¶ï¼ŒåŸºç¡€é•œåƒä½¿ç”¨ï¼šharbor-test.haier.net&#x2F;kubesphere&#x2F;java-8-centos7:skywalkingv9<img src="/images/1766456626-64e693f90083f93f2e900f458c7b62cd.png"></p>
</li>
<li><p>æ·»åŠ ç¯å¢ƒå˜é‡</p>
</li>
</ol>
<ul>
<li><p>JAVA_OPTIONS: -javaagent:&#x2F;agent&#x2F;skywalking-agent.jar</p>
</li>
<li><p>SW_AGENT_NAME: sç ::æœåŠ¡å <strong>&#x2F;&#x2F;æ³¨æ„ï¼šsç ç”¨å°å†™s<img src="/images/1766456626-a9253b87aaad50d84c73955fbba6b599.png"></strong></p>
</li>
<li><p>SW_AGENT_COLLECTOR_BACKEND_SERVICES æµ‹è¯•åœ°å€ï¼š</p>
</li>
</ul>
<p>(GRPC-æœåŠ¡): swagent.skywalking.paas-sit.haier.net:11800</p>
<p>(REST-nginx): swagent.skywalking.paas-sit.haier.net:12800</p>
<ul>
<li>SW_AGENT_COLLECTOR_BACKEND_SERVICES ç”Ÿäº§åœ°å€ï¼š</li>
</ul>
<p>(GRPC-æœåŠ¡): swagent.skywalking.haier.net:11800</p>
<p>(REST-nginx): swagent.skywalking.haier.net:12800<br><img src="/images/1766456626-a331da8277b574c4b133917f74eff3ec.png"></p>
<h6 id="waråŒ…-Tomcat"><a href="#waråŒ…-Tomcat" class="headerlink" title="waråŒ… (Tomcat)"></a>waråŒ… (Tomcat)</h6><ol>
<li>åº”ç”¨é•œåƒæ„å»ºæ—¶ï¼ŒåŸºç¡€é•œåƒä½¿ç”¨ï¼š</li>
</ol>
<p>harbor-test.haier.net&#x2F;kubesphere&#x2F;tomcat90-java8-centos7-root:skywalkingv9<br><img src="/images/1766456626-a143ae4bc55cb8f72397293615bf4b4d.png"></p>
<ol start="2">
<li>æ·»åŠ ç¯å¢ƒå˜é‡</li>
</ol>
<ul>
<li><p>CATALINA_OPTS: -javaagent:&#x2F;agent&#x2F;skywalking-agent.jar (æ·»åŠ åˆ°æœ€å‰é¢)</p>
</li>
<li><p>SW_AGENT_NAME: <strong>sç ::æœåŠ¡å</strong> **&#x2F;&#x2F;**<strong>æ³¨æ„ï¼šsç ç”¨å°å†™s</strong></p>
</li>
<li><p>SW_AGENT_COLLECTOR_BACKEND_SERVICES æµ‹è¯•åœ°å€ï¼š</p>
</li>
</ul>
<p>(GRPC-æœåŠ¡): swagent.skywalking.paas-sit.haier.net:11800</p>
<p>(REST-nginx): swagent.skywalking.paas-sit.haier.net:12800</p>
<ul>
<li>SW_AGENT_COLLECTOR_BACKEND_SERVICES ç”Ÿäº§åœ°å€ï¼š</li>
</ul>
<p>(GRPC-æœåŠ¡): swagent.skywalking.haier.net:11800</p>
<p>(REST-nginx): swagent.skywalking.haier.net:12800<br><img src="/images/1766456626-7a65ebc1244fd92061e5a79ec2850ecb.png"></p>
<h5 id="3-1-2-Nodejsåº”ç”¨"><a href="#3-1-2-Nodejsåº”ç”¨" class="headerlink" title="3.1.2 Nodejsåº”ç”¨"></a>3.1.2 Nodejsåº”ç”¨</h5><p>å®˜æ–¹æ–‡æ¡£å‚è€ƒï¼š</p>
<p><a target="_blank" rel="noopener" href="https://github.com/apache/skywalking-nodejs/tree/v0.8.0">https://github.com/apache/skywalking-nodejs/tree/v0.8.0</a></p>
<ol>
<li>æ¢é’ˆæ¨¡å—çš„npmä¾èµ–:</li>
</ol>
<blockquote>
<p><code>npm install skywalking-nodejs --save</code></p>
</blockquote>
<ol start="2">
<li>Node.jsæ¢é’ˆä½¿ç”¨ï¼š</li>
</ol>
<p>æ·»åŠ Skywalking Node.jsæ¨¡å—åˆ°è¢«ç›‘æ§çš„Node.jsåº”ç”¨æ—¶æ³¨æ„Node.jsæ¨¡å—ä¸€å®šå†å¼•å…¥å…¶ä»–æ¨¡å—ä¹‹å‰ã€‚</p>
<blockquote>
<p><code>require(&#39;skywalking-nodejs&#39;).start(&#123;</code></p>
<p>Â  Â <code>applicationCode: &#39;sç ::æœåŠ¡å&#39;, //sç ç”¨å°å†™s</code></p>
<p>Â  Â <code>directServers: &#39;swagent.skywalking.haier.net:11800&#39;</code></p>
<p><code>&#125;);</code></p>
</blockquote>
<p><em><strong>directServers æµ‹è¯•åœ°å€ï¼š</strong></em></p>
<p><em><strong>(GRPC-æœåŠ¡): swagent.skywalking.paas-sit.haier.net:11800</strong></em></p>
<p><em><strong>(REST-nginx): swagent.skywalking.paas-sit.haier.net:12800</strong></em></p>
<p><em><strong>directServers ç”Ÿäº§åœ°å€ï¼š</strong></em></p>
<p><em><strong>(GRPC-æœåŠ¡): swagent.skywalking.haier.net:11800</strong></em></p>
<p><em><strong>(REST-nginx): swagent.skywalking.haier.net:12800</strong></em></p>
<h5 id="3-1-3-Pythonåº”ç”¨"><a href="#3-1-3-Pythonåº”ç”¨" class="headerlink" title="3.1.3 Pythonåº”ç”¨"></a>3.1.3 Pythonåº”ç”¨</h5><p>å®˜æ–¹æ–‡æ¡£å‚è€ƒï¼š</p>
<p><a target="_blank" rel="noopener" href="https://skywalking.apache.org/docs/skywalking-python/latest/readme/">https://skywalking.apache.org/docs/skywalking-python/latest/readme/</a></p>
<ol>
<li><p>pip install apache-skywalking å®‰è£…åŒ…</p>
</li>
<li><p>åœ¨flaskå¯åŠ¨pyä¸­å¯¼å…¥skywalking</p>
</li>
</ol>
<blockquote>
<p># -*- coding:utf-8 -*-<br>#å¯¼å…¥skywalkingé“¾è·¯ç›‘æ§ å¼€å§‹<br>from skywalking import agent, config<br>config.init(collector&#x3D;â€™swagent.skywalking.haier.net:11800â€™, service&#x3D;â€™sç ::æœåŠ¡åâ€™)Â  #sç ç”¨å°å†™Â <br>config.flask_collect_http_params &#x3D; True # flaskæ¥æ”¶åˆ°çš„httpå‚æ•°ä¹Ÿä¿å­˜<br>agent.start()<br>#å¯¼å…¥ç»“æŸ<br>import logging<br>from framework import app<br>if __name__ !&#x3D; â€˜__main__â€˜: #gunicorn å¯åŠ¨<br>Â  Â  gunicorn_logger &#x3D; logging.getLogger(â€˜gunicorn.errorâ€™)<br>Â  Â  app.logger.handlers &#x3D; gunicorn_logger.handlers<br>Â  Â  app.logger.setLevel(gunicorn_logger.level)<br>if __name__ &#x3D;&#x3D; â€˜__main__â€˜:#flask å¯åŠ¨<br>Â  Â  app.run(host&#x3D;app.config[â€œHOSTâ€], port&#x3D;app.config[â€œPORTâ€], debug&#x3D;app.config[â€œDEBUG_MODEL_SWITCHâ€])</p>
</blockquote>
<ol start="3">
<li>å¯åŠ¨flaskæ—¶ï¼Œä¼šåœ¨æ—¥å¿—çœ‹åˆ°ç±»ä¼¼ä¿¡æ¯</li>
</ol>
<blockquote>
<p>Â skywalking [MainThread] [WARNING] failed to install plugin sw_aiohttp<br>Â skywalking [MainThread] [WARNING] failed to install plugin sw_django<br>Â skywalking [MainThread] [WARNING] failed to install plugin sw_elasticsearch</p>
</blockquote>
<p>è¿™äº›æ˜¯ç³»ç»Ÿä¸­æ²¡æœ‰å¼•å…¥çš„ç»„ä»¶ï¼Œå¦‚æœå‘ç°pymysqlä¹Ÿæ²¡æœ‰å¼•å…¥ï¼Œæ˜¯å› ä¸ºé…ç½®mysqlé©±åŠ¨æ—¶éœ€è¦é…ç½®æˆmysql+pymysql(ä¸å¼•å…¥pymysqlç»„ä»¶ï¼Œè·Ÿè¸ªä¸­å°±æ²¡æœ‰è®¿é—®mysqlçš„ç›¸å…³æ•°æ®)</p>
<p>SQLALCHEMY_DATABASE_URI &#x3D; â€œmysql+pymysql:&#x2F;&#x2F;<em><strong>*</strong></em>â€œ</p>
<ol start="4">
<li>å¯¹äºgunicornå‘å¸ƒçš„flaskæœåŠ¡ï¼Œä¸€å®šæ³¨æ„</li>
</ol>
<blockquote>
<p><code>worker_class = &#39;sync&#39;</code></p>
</blockquote>
<p>worker_classä¸èƒ½æ˜¯geventï¼Œä¹Ÿä¸ç”¨åœ¨flaskå¯åŠ¨pyä¸­å¼•å…¥ä¸geventç›¸å…³åŒ…ï¼Œå¦‚import gevent.monkey.ï¼ˆç›®å‰è¿˜ä¸çŸ¥å…·ä½“åŸå› ï¼‰</p>
<h5 id="3-1-4-Nginxæ¥å…¥"><a href="#3-1-4-Nginxæ¥å…¥" class="headerlink" title="3.1.4 Nginxæ¥å…¥"></a>3.1.4 Nginxæ¥å…¥</h5><p>å®˜æ–¹å‚è€ƒæ–‡æ¡£ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://github.com/apache/skywalking-nginx-lua/tree/v1.0.0">https://github.com/apache/skywalking-nginx-lua/tree/v1.0.0</a></p>
<ol>
<li>å®šåˆ¶openrestyåŸºç¡€é•œåƒ</li>
</ol>
<p>openrestyå®šåˆ¶é•œåƒåœ°å€ï¼š<a target="_blank" rel="noopener" href="https://harbor-test.haier.net/base/nginx:skywalking" title="https://harbor-test.haier.net/base/nginx:skywalking">https://harbor-test.haier.net/base/nginx:skywalking</a></p>
<ol start="2">
<li>nginx.confæ¨¡æ¿</li>
</ol>
<blockquote>
<p>events {<br>Â  Â  worker_connections 1024;<br>}<br>http {<br>Â  Â  lua_package_path â€œ&#x2F;opt&#x2F;bitnami&#x2F;openresty&#x2F;nginx&#x2F;conf&#x2F;skywalking-nginx-lua-0.6.0&#x2F;lib&#x2F;?.lua;;â€;<br>Â  Â  # Buffer represents the register inform and the queue of the finished segment<br>Â  Â  lua_shared_dict tracing_buffer 100m;</p>
<p>Â  Â  # Init is the timer setter and keeper<br>Â  Â  # Setup an infinite loop timer to do register and trace report.<br>Â  Â  init_worker_by_lua_block {<br>Â  Â  Â  Â local metadata_buffer &#x3D; ngx.shared.tracing_buffer</p>
<p>Â  Â  Â  Â  â€“ Set service name<br>Â  Â  Â  Â  metadata_buffer:set(â€˜serviceNameâ€™, â€˜&lt;service_name&gt;â€™)<br>Â  Â  Â  Â  â€“ Instance means the number of Nginx deployment, does not mean the worker instances<br>Â  Â  Â  Â  metadata_buffer:set(â€˜serviceInstanceNameâ€™, â€˜&lt;service_instance_name&gt;â€™)<br>Â  Â  Â  Â  â€“ type â€˜booleanâ€™, mark the entrySpan include host&#x2F;domain<br>Â  Â  Â  Â  metadata_buffer:set(â€˜includeHostInEntrySpanâ€™, false)</p>
<p>Â  Â  Â  Â  â€“ set random seed<br>Â  Â  Â  Â  require(â€œskywalking.utilâ€).set_randomseed()<br>Â  Â  Â  Â  require(â€œskywalking.clientâ€):startBackendTimer(â€œ<a target="_blank" rel="noopener" href="http://swagent.skywalking.paas-sit.haier.net:12800/">http://swagent.skywalking.paas-sit.haier.net:12800</a>â€œ)</p>
<p>Â  Â  Â  Â  â€“ If there is a bug of this `tablepool` implementation, we can<br>Â  Â  Â  Â  â€“ disable it in this way<br>Â  Â  Â  Â  â€“ require(â€œskywalking.utilâ€).disable_tablepool()</p>
<p>Â  Â  Â  Â  skywalking_tracer &#x3D; require(â€œskywalking.tracerâ€)</p>
<p>Â  Â  }<br>Â  Â  resolver 10.138.92.77;<br>Â  Â  server {<br>Â  Â  Â  Â  listen 80;</p>
<p>Â  Â  Â  Â  location &#x2F;<location> {<br>Â  Â  Â  Â  Â  Â  default_type text&#x2F;html;</p>
<p>Â  Â  Â  Â  Â  Â  rewrite_by_lua_block {<br>Â  Â  Â  Â  Â  Â  Â  Â  â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br>Â  Â  Â  Â  Â  Â  Â  Â  â€“ NOTICE, this should be changed manually<br>Â  Â  Â  Â  Â  Â  Â  Â  â€“ This variable represents the upstream logic address<br>Â  Â  Â  Â  Â  Â  Â  Â  â€“ Please set them as service logic name or DNS name<br>Â  Â  Â  Â  Â  Â  Â  Â  â€“<br>Â  Â  Â  Â  Â  Â  Â  Â  â€“ Currently, we can not have the upstream real network address<br>Â  Â  Â  Â  Â  Â  Â  Â  â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br>Â  Â  Â  Â  Â  Â  Â  Â  require(â€œskywalking.tracerâ€):start(â€œ&lt;upstream_service_name&gt;â€)<br>Â  Â  Â  Â  Â  Â  Â  Â  â€“ If you want correlation custom data to the downstream service<br>Â  Â  Â  Â  Â  Â  Â  Â  â€“ require(â€œskywalking.tracerâ€):start(â€œupstream serviceâ€, {custom &#x3D; â€œcustom_valueâ€})<br>Â  Â  Â  Â  Â  Â  }<br>Â  Â  Â  Â  Â  Â  proxy_pass http:&#x2F;&#x2F;&lt;upstream_service_name&gt;:&lt;port_num&gt;;<br>Â  Â  Â  Â  Â  Â  body_filter_by_lua_block {<br>Â  Â  Â  Â  Â  Â  Â  Â  if ngx.arg[2] then<br>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  require(â€œskywalking.tracerâ€):finish()<br>Â  Â  Â  Â  Â  Â  Â  Â  end<br>Â  Â  Â  Â  Â  Â  }<br>Â  Â  Â  Â  Â  Â  log_by_lua_block {<br>Â  Â  Â  Â  Â  Â  Â  Â  require(â€œskywalking.tracerâ€):prepareForReport()<br>Â  Â  Â  Â  Â  Â  }<br>Â  Â  Â  Â  }<br>Â  Â  }<br>}</p>
</blockquote>
<p>å·¥ä½œè´Ÿè½½æŒ‚è½½è·¯å¾„ï¼šopt&#x2F;bitnami&#x2F;openresty&#x2F;nginx&#x2F;conf&#x2F;nginx.conf</p>
<h4 id="3-2-éå®¹å™¨åŒ–é¡¹ç›®-ç›´æ¥å®‰è£…è¿è¡Œåœ¨æ“ä½œç³»ç»Ÿç¯å¢ƒä¸­"><a href="#3-2-éå®¹å™¨åŒ–é¡¹ç›®-ç›´æ¥å®‰è£…è¿è¡Œåœ¨æ“ä½œç³»ç»Ÿç¯å¢ƒä¸­" class="headerlink" title="3.2 éå®¹å™¨åŒ–é¡¹ç›®(ç›´æ¥å®‰è£…è¿è¡Œåœ¨æ“ä½œç³»ç»Ÿç¯å¢ƒä¸­)"></a>3.2 éå®¹å™¨åŒ–é¡¹ç›®(ç›´æ¥å®‰è£…è¿è¡Œåœ¨æ“ä½œç³»ç»Ÿç¯å¢ƒä¸­)</h4><p>Java agentä¸‹è½½åœ°å€ï¼š<a target="_blank" rel="noopener" href="http://transfer.paas.haier.net/hco9/apache-skywalking-java-agent-9.5.0.tgz">http://transfer.paas.haier.net/hco9/apache-skywalking-java-agent-9.5.0.tgz</a></p>
<p><em><strong>SW_AGENT_COLLECTOR_BACKEND_SERVICES æµ‹è¯•åœ°å€ï¼š</strong></em></p>
<p><em><strong>(GRPC-æœåŠ¡):</strong></em> <em><strong>swagent.skywalking.paas-sit.haier.net:11800</strong></em></p>
<p><em><strong>(REST-nginx):</strong></em> <em><strong>swagent.skywalking.paas-sit.haier.net:12800</strong></em></p>
<p><em><strong>SW_AGENT_COLLECTOR_BACKEND_SERVICES ç”Ÿäº§åœ°å€ï¼š</strong></em></p>
<p><em><strong>(GRPC-æœåŠ¡):</strong></em> <em><strong>swagent.skywalking.haier.net:11800</strong></em></p>
<p><em><strong>(REST-nginx):</strong></em> <em><strong>swagent.skywalking.haier.net:12800</strong></em></p>
<h5 id="3-2-1-Java-JaråŒ…"><a href="#3-2-1-Java-JaråŒ…" class="headerlink" title="3.2.1 Java(JaråŒ…)"></a>3.2.1 Java(JaråŒ…)</h5><p>å®˜æ–¹æ–‡æ¡£å‚è€ƒï¼š</p>
<p><a target="_blank" rel="noopener" href="https://skywalking.apache.org/docs/skywalking-java/latest/readme/">https://skywalking.apache.org/docs/skywalking-java/latest/readme/</a></p>
<p><strong>Java</strong> <strong>Agent****æ”¯æŒçš„é…ç½®å±æ€§</strong></p>
<p>å®˜æ–¹æ–‡æ¡£è¯¦è§ï¼š<code>https://github.com/apache/skywalking/blob/v6.6.0/docs/en/setup/service-agent/java-agent/README.md</code></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>å±æ€§å</td>
<td>æè¿°</td>
<td>é»˜è®¤å€¼</td>
</tr>
<tr>
<td>agent.namespace</td>
<td>å‘½åç©ºé—´ï¼Œç”¨äºéš”ç¦»è·¨è¿›ç¨‹ä¼ æ’­çš„headerã€‚å¦‚æœè¿›è¡Œäº†é…ç½®ï¼Œheaderå°†ä¸ºHeaderName:Namespace.</td>
<td>æœªè®¾ç½®</td>
</tr>
<tr>
<td>agent.service_name</td>
<td>åœ¨SkyWalking UIä¸­å±•ç¤ºçš„æœåŠ¡åã€‚5.xç‰ˆæœ¬å¯¹åº”Applicationï¼Œ6.xç‰ˆæœ¬å¯¹åº”Serviceã€‚ å»ºè®®ï¼šä¸ºæ¯ä¸ªæœåŠ¡è®¾ç½®ä¸ªå”¯ä¸€çš„åå­—ï¼ŒæœåŠ¡çš„å¤šä¸ªæœåŠ¡å®ä¾‹ä¸ºåŒæ ·çš„æœåŠ¡å</td>
<td>Your_ApplicationName</td>
</tr>
<tr>
<td>agent.sample_n_per_3_secs</td>
<td>è´Ÿæ•°æˆ–0è¡¨ç¤ºä¸é‡‡æ ·ï¼Œé»˜è®¤ä¸é‡‡æ ·ã€‚SAMPLE_N_PER_3_SECSè¡¨ç¤ºæ¯3ç§’é‡‡æ ·Næ¡ã€‚</td>
<td>æœªè®¾ç½®</td>
</tr>
<tr>
<td>agent.authentication</td>
<td>é‰´æƒæ˜¯å¦å¼€å¯å–å†³äºåç«¯çš„é…ç½®ï¼Œå¯æŸ¥çœ‹application.ymlçš„è¯¦ç»†æè¿°ã€‚å¯¹äºå¤§å¤šæ•°çš„åœºæ™¯ï¼Œéœ€è¦åç«¯å¯¹é‰´æƒè¿›è¡Œæ‰©å±•ã€‚ç›®å‰ä»…å®ç°äº†åŸºæœ¬çš„é‰´æƒåŠŸèƒ½ã€‚</td>
<td>æœªè®¾ç½®</td>
</tr>
<tr>
<td>agent.span_limit_per_segment</td>
<td>å•ä¸ªsegmentä¸­çš„spançš„æœ€å¤§ä¸ªæ•°ã€‚é€šè¿‡è¿™ä¸ªé…ç½®é¡¹ï¼ŒSkywalkingå¯è¯„ä¼°åº”ç”¨ç¨‹åºå†…å­˜ä½¿ç”¨é‡ã€‚</td>
<td>300</td>
</tr>
<tr>
<td>agent.ignore_suffix</td>
<td>å¦‚æœè¿™ä¸ªé›†åˆä¸­åŒ…å«äº†ç¬¬ä¸€ä¸ªspançš„æ“ä½œåï¼Œè¿™ä¸ªsegmentå°†ä¼šè¢«å¿½ç•¥æ‰ã€‚</td>
<td>æœªè®¾ç½®</td>
</tr>
<tr>
<td>agent.is_open_debugging_class</td>
<td>å¦‚æœä¸ºtrueï¼Œskywalkingä¼šå°†æ‰€æœ‰ç»Instrumentè½¬æ¢è¿‡çš„ç±»æ–‡ä»¶ä¿å­˜åˆ°&#x2F;debuggingæ–‡ä»¶å¤¹ä¸‹ã€‚Skywalkingå›¢é˜Ÿä¼šè¦æ±‚ä½ æä¾›è¿™äº›ç±»æ–‡ä»¶ä»¥è§£å†³å…¼å®¹æ€§é—®é¢˜ã€‚</td>
<td>æœªè®¾ç½®</td>
</tr>
<tr>
<td>agent.active_v2_header</td>
<td>æ˜¯å¦é»˜è®¤ä½¿ç”¨v2ç‰ˆæœ¬çš„headerã€‚</td>
<td>TRUE</td>
</tr>
<tr>
<td>agent.instance_uuid</td>
<td>å®ä¾‹idã€‚skywalkingä¼šå°†å®ä¾‹idç›¸åŒçš„çœ‹åšä¸€ä¸ªå®ä¾‹ã€‚å¦‚æœä¸ºç©ºï¼Œskywalking agentä¼šç”Ÿæˆä¸€ä¸ª32ä½çš„uuidã€‚</td>
<td>â€œâ€</td>
</tr>
<tr>
<td>agent.instance_properties[key]&#x3D;value</td>
<td>æ·»åŠ æœåŠ¡å®ä¾‹çš„å®šåˆ¶å±æ€§ã€‚</td>
<td>æœªè®¾ç½®</td>
</tr>
<tr>
<td>agent.cause_exception_depth</td>
<td>agentè®°å½•çš„å¼‚å¸¸æ—¶ï¼Œä»£ç†è¿›å…¥çš„æ·±åº¦</td>
<td>5</td>
</tr>
<tr>
<td>agent.active_v1_header</td>
<td>æ˜¯å¦é»˜è®¤ä½¿ç”¨v1ç‰ˆæœ¬çš„headerã€‚</td>
<td>FALSE</td>
</tr>
<tr>
<td>agent.cool_down_threshold</td>
<td>æ”¶åˆ°resetå‘½ä»¤åï¼Œä»£ç†åº”ç­‰å¾…å¤šä¹…ï¼ˆä»¥åˆ†é’Ÿä¸ºå•ä½ï¼‰æ‰èƒ½é‡æ–°æ³¨å†Œåˆ°OAPæœåŠ¡å™¨ã€‚</td>
<td>10</td>
</tr>
<tr>
<td>agent.force_reconnection_period</td>
<td>æ ¹æ®grpc_channel_check_intervalå¼ºåˆ¶é‡æ–°è¿æ¥grpcã€‚</td>
<td>1</td>
</tr>
<tr>
<td>agent.operation_name_threshold</td>
<td>operationNameæœ€å¤§é•¿åº¦ï¼Œä¸å»ºè®®å°†æ­¤å€¼è®¾ç½®ä¸º&gt; 500ã€‚</td>
<td>500</td>
</tr>
<tr>
<td>collector.grpc_channel_check_interval</td>
<td>æ£€æŸ¥grpcçš„channelçŠ¶æ€çš„æ—¶é—´é—´éš”ã€‚</td>
<td>30</td>
</tr>
<tr>
<td>collector.app_and_service_register_check_interval</td>
<td>æ£€æŸ¥åº”ç”¨å’ŒæœåŠ¡çš„æ³¨å†ŒçŠ¶æ€çš„æ—¶é—´é—´éš”ã€‚</td>
<td>3</td>
</tr>
<tr>
<td>collector.backend_service</td>
<td>æ¥æ”¶skywalking traceæ•°æ®çš„åç«¯åœ°å€</td>
<td>127.0.0.1:11800</td>
</tr>
<tr>
<td>collector.grpc_upstream_timeout</td>
<td>grpcå®¢æˆ·ç«¯å‘ä¸Šæ¸¸å‘é€æ•°æ®æ—¶çš„è¶…æ—¶æ—¶é—´ï¼Œå•ä½ç§’ã€‚</td>
<td>30 ç§’</td>
</tr>
<tr>
<td>logging.level</td>
<td>æ—¥å¿—çº§åˆ«ã€‚é»˜è®¤ä¸ºdebugã€‚</td>
<td>DEBUG</td>
</tr>
<tr>
<td>logging.file_name</td>
<td>æ—¥å¿—æ–‡ä»¶å</td>
<td>skywalking-api.log</td>
</tr>
<tr>
<td>logging.output</td>
<td>æ—¥å¿—è¾“å‡ºï¼Œé»˜è®¤FILEã€‚CONSOLEè¡¨ç¤ºè¾“å‡ºåˆ°stdoutã€‚</td>
<td>FILE</td>
</tr>
<tr>
<td>logging.dir</td>
<td>æ—¥å¿—ç›®å½•ã€‚é»˜è®¤ä¸ºç©ºä¸²ï¼Œè¡¨ç¤ºä½¿ç”¨â€system.outâ€è¾“å‡ºæ—¥å¿—ã€‚</td>
<td>â€œâ€</td>
</tr>
<tr>
<td>logging.pattern</td>
<td>æ—¥å¿—è®°å½•æ ¼å¼ã€‚æ‰€æœ‰è½¬æ¢è¯´æ˜ç¬¦ï¼š  <br>* %level è¡¨ç¤ºæ—¥å¿—çº§åˆ«ã€‚  <br>* %timestamp è¡¨ç¤ºç°åœ¨çš„æ—¶é—´ï¼Œæ ¼å¼yyyy-MM-dd HH:mm:ss:SSSã€‚  <br>* %thread è¡¨ç¤ºå½“å‰çº¿ç¨‹çš„åç§°ã€‚  <br>* %msg è¡¨ç¤ºæ¶ˆæ¯ã€‚  <br>* %class è¡¨ç¤ºTargetClassçš„SimpleNameã€‚  <br>* %throwable è¡¨ç¤ºå¼‚å¸¸ã€‚  <br>* %agent_name è¡¨ç¤ºagent.service_name</td>
<td>%level %timestamp %thread %class : %msg %throwable</td>
</tr>
<tr>
<td>logging.max_file_size</td>
<td>æ—¥å¿—æ–‡ä»¶çš„æœ€å¤§å¤§å°ã€‚å½“æ—¥å¿—æ–‡ä»¶å¤§å°è¶…è¿‡è¿™ä¸ªæ•°ï¼Œå½’æ¡£å½“å‰çš„æ—¥å¿—æ–‡ä»¶ï¼Œå°†æ—¥å¿—å†™å…¥åˆ°æ–°æ–‡ä»¶ã€‚</td>
<td>300 * 1024 * 1024</td>
</tr>
<tr>
<td>logging.max_history_files</td>
<td>æœ€å¤§å†å²è®°å½•æ—¥å¿—æ–‡ä»¶ã€‚å‘ç”Ÿç¿»è½¬æ—¶ï¼Œå¦‚æœæ—¥å¿—æ–‡ä»¶è¶…è¿‡æ­¤å€¼ï¼Œåˆ™æœ€æ—©çš„æ–‡ä»¶å°†è¢«åˆ é™¤ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè´Ÿæ•°æˆ–é›¶è¡¨ç¤ºå…³é—­ã€‚</td>
<td>-1</td>
</tr>
<tr>
<td>jvm.buffer_size</td>
<td>æ”¶é›†JVMä¿¡æ¯çš„bufferçš„å¤§å°ã€‚</td>
<td>60 * 10</td>
</tr>
<tr>
<td>buffer.channel_size</td>
<td>bufferçš„channelå¤§å°ã€‚</td>
<td>5</td>
</tr>
<tr>
<td>buffer.buffer_size</td>
<td>bufferçš„å¤§å°</td>
<td>300</td>
</tr>
<tr>
<td>dictionary.service_code_buffer_size</td>
<td>The buffer size of application codes and peer</td>
<td>10 * 10000</td>
</tr>
<tr>
<td>dictionary.endpoint_name_buffer_size</td>
<td>The buffer size of endpoint names and peer</td>
<td>1000 * 10000</td>
</tr>
<tr>
<td>plugin.peer_max_length</td>
<td>Peeræœ€å¤§æè¿°é™åˆ¶</td>
<td>200</td>
</tr>
<tr>
<td>plugin.mongodb.trace_param</td>
<td>å¦‚æœä¸ºtrueï¼Œè®°å½•æ‰€æœ‰è®¿é—®MongoDBçš„å‚æ•°ä¿¡æ¯ã€‚é»˜è®¤ä¸ºfalseï¼Œè¡¨ç¤ºä»…è®°å½•æ“ä½œåï¼Œä¸è®°å½•å‚æ•°ä¿¡æ¯ã€‚</td>
<td>FALSE</td>
</tr>
<tr>
<td>plugin.mongodb.filter_length_limit</td>
<td>å¦‚æœè®¾ä¸ºæ­£æ•°ï¼ŒWriteRequest.params å°†è¢«æˆªæ–­ä¸ºè¯¥é•¿åº¦ï¼Œå¦åˆ™å°†è¢«å®Œå…¨ä¿å­˜ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚</td>
<td>256</td>
</tr>
<tr>
<td>plugin.elasticsearch.trace_dsl</td>
<td>å¦‚æœä¸ºtrueï¼Œè®°å½•æ‰€æœ‰è®¿é—®ElasticSearchçš„DSLä¿¡æ¯ã€‚é»˜è®¤ä¸ºfalseã€‚</td>
<td>FALSE</td>
</tr>
<tr>
<td>plugin.springmvc.use_qualified_name_as_endpoint_name</td>
<td>å¦‚æœä¸ºtrueï¼Œendpointçš„nameä¸ºæ–¹æ³•çš„å…¨é™å®šåï¼Œè€Œä¸æ˜¯è¯·æ±‚çš„URLã€‚é»˜è®¤ä¸ºfalseã€‚</td>
<td>FALSE</td>
</tr>
<tr>
<td>plugin.toolit.use_qualified_name_as_operation_name</td>
<td>å¦‚æœä¸ºtrueï¼Œoperationçš„nameä¸ºæ–¹æ³•çš„å…¨é™å®šåï¼Œè€Œä¸æ˜¯ç»™å®šçš„operation nameã€‚é»˜è®¤ä¸ºfalseã€‚</td>
<td>FALSE</td>
</tr>
<tr>
<td>plugin.mysql.trace_sql_parameters</td>
<td>å¦‚æœè®¾ç½®ä¸ºtrueï¼Œåˆ™å°†æ”¶é›†sqlçš„å‚æ•°ï¼ˆé€šå¸¸ä¸ºjava.sql.PreparedStatementï¼‰ã€‚</td>
<td>FALSE</td>
</tr>
<tr>
<td>plugin.mysql.sql_parameters_max_length</td>
<td>å¦‚æœè®¾ç½®ä¸ºæ­£æ•°ï¼Œdb.sql.parameters å°†è¢«æˆªæ–­ä¸ºè¯¥é•¿åº¦ï¼Œå¦åˆ™å°†è¢«å®Œå…¨ä¿å­˜ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚</td>
<td>512</td>
</tr>
<tr>
<td>plugin.postgresql.trace_sql_parameters</td>
<td>å¦‚æœè®¾ç½®ä¸ºtrueï¼Œåˆ™å°†æ”¶é›†sqlçš„å‚æ•°ï¼ˆé€šå¸¸ä¸ºjava.sql.PreparedStatementï¼‰ã€‚</td>
<td>FALSE</td>
</tr>
<tr>
<td>plugin.postgresql.sql_parameters_max_length</td>
<td>å¦‚æœè®¾ç½®ä¸ºæ­£æ•°ï¼Œdb.sql.parameters å°†è¢«æˆªæ–­ä¸ºè¯¥é•¿åº¦ï¼Œå¦åˆ™å°†è¢«å®Œå…¨ä¿å­˜ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚</td>
<td>512</td>
</tr>
<tr>
<td>plugin.solrj.trace_statement</td>
<td>å¦‚æœä¸ºtrueï¼Œåˆ™åœ¨SolræŸ¥è¯¢è¯·æ±‚ä¸­è·Ÿè¸ªæ‰€æœ‰æŸ¥è¯¢å‚æ•°ï¼ˆåŒ…æ‹¬deleteByIdså’ŒdeleteByQueryï¼‰</td>
<td>FALSE</td>
</tr>
<tr>
<td>plugin.solrj.trace_ops_params</td>
<td>å¦‚æœä¸ºtrueï¼Œåˆ™è·Ÿè¸ªSolrè¯·æ±‚ä¸­çš„æ‰€æœ‰æ“ä½œå‚æ•°</td>
<td>FALSE</td>
</tr>
<tr>
<td>plugin.light4j.trace_handler_chain</td>
<td>å¦‚æœä¸ºtrueï¼Œè¯·è·Ÿè¸ªLight4Jçš„è¯·æ±‚çš„æ‰€æœ‰ä¸­é—´ä»¶&#x2F;ä¸šåŠ¡handlerã€‚</td>
<td>FALSE</td>
</tr>
<tr>
<td>plugin.opgroup.*</td>
<td>æ”¯æŒæ“ä½œåç§°è‡ªå®šä¹‰ä¸åŒæ’ä»¶ä¸­çš„ç»„çš„è§„åˆ™ã€‚è¯¦è§ <a target="_blank" rel="noopener" href="https://github.com/apache/skywalking/blob/v6.5.0/docs/en/setup/service-agent/java-agent/op_name_group_rule.md" title="æ”¯æŒç»„è§„åˆ™çš„æ’ä»¶">æ”¯æŒç»„è§„åˆ™çš„æ’ä»¶</a></td>
<td>æœªè®¾ç½®</td>
</tr>
<tr>
<td>plugin.springtransaction.simplify_transaction_definition_name</td>
<td>è®¾ä¸ºtrueï¼Œåˆ™ç®€åŒ–äº‹åŠ¡å®šä¹‰åç§°ã€‚</td>
<td>FALSE</td>
</tr>
<tr>
<td>plugin.jdkthreading.threading_class_prefixes</td>
<td>å°†å¯¹åç§°ä¸ä»»æ„ä¸€ä¸ª THREADING_CLASS_PREFIXES (å¤šä¸ªä½¿ç”¨ , åˆ†éš”)åŒ¹é…çš„çº¿ç¨‹åŒ–ç±»ï¼ˆ java.lang.Runnable å’Œ java.util.concurrent.Callable ï¼‰åŠå…¶å­ç±»è¿›è¡Œ Instrumentï¼Œè¯·ç¡®ä¿ä»…å°†çª„å‰ç¼€æŒ‡å®šä¸ºæ‚¨å¸Œæœ›Instrumentçš„å‰ç¼€ï¼ˆå®‰å…¨è€ƒè™‘ï¼Œ java. å’Œ javax. å°†è¢«å¿½ç•¥ï¼‰</td>
<td>æœªè®¾ç½®</td>
</tr>
</tbody></table>
<p>SkyWalking Java Agentæ”¯æŒå¤šç§ä¸­é—´ä»¶ã€æ¡†æ¶å’Œåº“ã€‚æ”¯æŒçš„æ‰€æœ‰æ’ä»¶å¯åœ¨ç¤ºä¾‹Demoçš„_&#x2F;plugins_æ–‡ä»¶å¤¹ä¸‹æŸ¥çœ‹ã€‚</p>
<p><strong>æ¿€æ´»æ’ä»¶ï¼š</strong>æ‰€æœ‰åœ¨_&#x2F;plugins_æ–‡ä»¶å¤¹ä¸‹çš„æ’ä»¶éƒ½æ˜¯å·²è¢«æ¿€æ´»çš„æ’ä»¶ã€‚è‹¥ä»_&#x2F;plugins_ä¸­ç§»é™¤æŸä¸ªæ’ä»¶çš„jaråŒ…ï¼Œåˆ™è¡¨ç¤ºæ’ä»¶ä¸å¯ç”¨ã€‚</p>
<p><strong>å®˜æ–¹å·²æ”¯æŒæ’ä»¶ï¼š</strong>å®˜æ–¹æ”¯æŒçš„æ’ä»¶éƒ½å·²åœ¨_&#x2F;plugins_æ–‡ä»¶å¤¹ä¸‹ã€‚</p>
<p><strong>å¯é€‰æ’ä»¶ï¼š</strong>Java Agentçš„æ’ä»¶æ”¯æŒå¯æ’æ‹”ã€‚åœ¨Agentæˆ–ç¬¬ä¸‰æ–¹ä»“åº“çš„_optional-plugins_æ–‡ä»¶å¤¹ä¸‹æä¾›äº†å¯é€‰çš„æ’ä»¶ã€‚ æƒ³è¦ä½¿ç”¨å¯é€‰æ’ä»¶ï¼Œå¯ä»¥å°†å¯¹åº”æ’ä»¶ç§»åŠ¨åˆ°_&#x2F;plugins_æ–‡ä»¶å¤¹ä¸‹ã€‚<img src="/images/1766456626-8f3737efed07a148f6673d65a06d0ea2.png"></p>
<hr>
<p><strong>æ”¯æŒæ’ä»¶åˆ—è¡¨</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>æ¡†æ¶</td>
<td></td>
<td>æ’ä»¶ç‰ˆæœ¬</td>
</tr>
<tr>
<td>HTTP Server</td>
<td></td>
<td><a target="_blank" rel="noopener" href="https://github.com/apache/tomcat" title="Tomcat 7">Tomcat 7</a></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/apache/tomcat" title="Tomcat 8">Tomcat 8</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/apache/tomcat" title="Tomcat 9">Tomcat 9</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/spring-projects/spring-boot" title="Spring Boot Web 4.x">Spring Boot Web 4.x</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Spring MVC 3.x, 4.x 5.x with servlet 3.x</td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/nutzam/nutz" title="Nutz Web Framework 1.x">Nutz Web Framework 1.x</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="http://struts.apache.org/" title="Struts2 MVC 2.3.x -&gt; 2.5.x">Struts2 MVC 2.3.x -&gt; 2.5.x</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="http://www.caucho.com/resin-4.0/" title="Resin 3">Resin 3</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="http://www.caucho.com/resin-4.0/" title="Resin 4">Resin 4</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="http://www.eclipse.org/jetty/" title="Jetty Server 9">Jetty Server 9</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html" title="Spring Webflux 5.x">Spring Webflux 5.x</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="http://undertow.io/" title="Undertow 2.0.0.Final -&gt; 2.0.13.Final">Undertow 2.0.0.Final -&gt; 2.0.13.Final</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://resteasy.github.io/" title="RESTEasy 3.1.0.Final -&gt; 3.7.0.Final">RESTEasy 3.1.0.Final -&gt; 3.7.0.Final</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://www.playframework.com/" title="Play Framework 2.6.x -&gt; 2.8.x">Play Framework 2.6.x -&gt; 2.8.x</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://doc.networknt.com/" title="Light4J Microservices Framework 1.6.x -&gt; 2.x">Light4J Microservices Framework 1.6.x -&gt; 2.x</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/mrniko/netty-socketio" title="Netty SocketIO 1.x">Netty SocketIO 1.x</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td>HTTP Client</td>
<td></td>
<td><a target="_blank" rel="noopener" href="https://github.com/OpenFeign/feign" title="Feign 9.x">Feign 9.x</a></td>
</tr>
<tr>
<td>Netflix Spring Cloud Feign 1.1.x, 1.2.x, 1.3.x</td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/square/okhttp" title="Okhttp 3.x">Okhttp 3.x</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="http://hc.apache.org/" title="Apache httpcomponent HttpClient 4.2, 4.3">Apache httpcomponent HttpClient 4.2, 4.3</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/spring-projects/spring-framework" title="Spring RestTemplete 4.x">Spring RestTemplete 4.x</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="http://www.eclipse.org/jetty/" title="Jetty Client 9">Jetty Client 9</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://hc.apache.org/httpcomponents-asyncclient-4.1.x/index.html" title="Apache httpcomponent AsyncClient 4.x">Apache httpcomponent AsyncClient 4.x</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td>HTTP Gateway</td>
<td></td>
<td><a target="_blank" rel="noopener" href="https://spring.io/projects/spring-cloud-gateway" title="Spring Cloud Gateway 2.1.x.RELEASE">Spring Cloud Gateway 2.1.x.RELEASE</a></td>
</tr>
<tr>
<td>JDBC</td>
<td></td>
<td>Mysql Driver 5.x, 6.x, 8.x</td>
</tr>
<tr>
<td>Oracle Driver</td>
<td></td>
<td></td>
</tr>
<tr>
<td>H2 Driver 1.3.x -&gt; 1.4.x</td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/shardingjdbc/sharding-jdbc" title="Sharding-JDBC 1.5.x">Sharding-JDBC 1.5.x</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/apache/incubator-shardingsphere" title="ShardingSphere 3.0.0">ShardingSphere 3.0.0</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/apache/incubator-shardingsphere" title="ShardingSphere 3.0.0, 4.0.0-RC1">ShardingSphere 3.0.0, 4.0.0-RC1</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td>PostgreSQL Driver 8.x, 9.x, 42.x</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Mariadb Driver 2.x, 1.8</td>
<td></td>
<td></td>
</tr>
<tr>
<td>RPCæ¡†æ¶</td>
<td></td>
<td><a target="_blank" rel="noopener" href="https://github.com/alibaba/dubbo" title="Dubbo 2.5.4 -&gt; 2.6.0">Dubbo 2.5.4 -&gt; 2.6.0</a></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/dangdangdotcom/dubbox" title="Dubbox 2.8.4">Dubbox 2.8.4</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/apache/dubbo" title="Apache Dubbo 2.7.0">Apache Dubbo 2.7.0</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/weibocom/motan" title="Motan 0.2.x -&gt; 1.1.0">Motan 0.2.x -&gt; 1.1.0</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/grpc/grpc-java" title="gRPC 1.x">gRPC 1.x</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/apache/servicecomb-java-chassis" title="Apache ServiceComb Java Chassis 0.1 -&gt; 0.5,1.0.x">Apache ServiceComb Java Chassis 0.1 -&gt; 0.5,1.0.x</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/alipay/sofa-rpc" title="SOFARPC 5.4.0">SOFARPC 5.4.0</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/line/armeria" title="Armeria 0.63.0 -&gt; 0.98.0">Armeria 0.63.0 -&gt; 0.98.0</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="http://avro.apache.org/" title="Apache Avro 1.7.0 - 1.8.x">Apache Avro 1.7.0 - 1.8.x</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/twitter/finagle" title="Finagle 6.25.0 -&gt; 20.1.0">Finagle 6.25.0 -&gt; 20.1.0</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td>MQ</td>
<td></td>
<td><a target="_blank" rel="noopener" href="https://github.com/apache/rocketmq" title="RocketMQ 4.x">RocketMQ 4.x</a></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="http://kafka.apache.org/" title="Kafka 0.11.0.0 -&gt; 1.0">Kafka 0.11.0.0 -&gt; 1.0</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/apache/activemq" title="ActiveMQ 5.x">ActiveMQ 5.x</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://www.rabbitmq.com/" title="RabbitMQ 5.x">RabbitMQ 5.x</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="http://pulsar.apache.org/" title="Pulsar 2.2.x -&gt; 2.4.x">Pulsar 2.2.x -&gt; 2.4.x</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td>NoSQL</td>
<td>Redis</td>
<td><a target="_blank" rel="noopener" href="https://github.com/xetorthio/jedis" title="Jedis 2.x">Jedis 2.x</a></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/redisson/redisson" title="Redisson Easy Java Redis client 3.5.2+">Redisson Easy Java Redis client 3.5.2+</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/lettuce-io/lettuce-core" title="Lettuce 5.x">Lettuce 5.x</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td>MongoDB</td>
<td><a target="_blank" rel="noopener" href="https://github.com/mongodb/mongo-java-driver" title="MongoDB Java Driver 2.13-2.14,3.3+">MongoDB Java Driver 2.13-2.14,3.3+</a></td>
<td></td>
</tr>
<tr>
<td>Memcached Client</td>
<td><a target="_blank" rel="noopener" href="https://github.com/couchbase/spymemcached" title="Spymemcached 2.x">Spymemcached 2.x</a></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/killme2008/xmemcached" title="Xmemcached 2.x">Xmemcached 2.x</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/elastic/elasticsearch" title="Elasticsearch">Elasticsearch</a></td>
<td><a target="_blank" rel="noopener" href="https://github.com/elastic/elasticsearch/tree/v5.2.0/client/transport" title="transport-client 5.2.x-5.6.x">transport-client 5.2.x-5.6.x</a></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/elastic/elasticsearch/tree/v6.7.1/client/transport" title="transport-client 6.7.1-6.8.4">transport-client 6.7.1-6.8.4</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.7/index.html" title="rest-high-level-client 6.7.1-6.8.4">rest-high-level-client 6.7.1-6.8.4</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://lucene.apache.org/solr" title="SolrJ 7.0.0-7.7.1">SolrJ 7.0.0-7.7.1</a></td>
<td>SolrJ 7.x</td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/apache/cassandra" title="Cassandra 3.x">Cassandra 3.x</a></td>
<td><a target="_blank" rel="noopener" href="https://github.com/datastax/java-driver" title="cassandra-java-driver 3.7.0-3.7.2">cassandra-java-driver 3.7.0-3.7.2</a></td>
<td></td>
</tr>
<tr>
<td>æœåŠ¡å‘ç°</td>
<td></td>
<td><a target="_blank" rel="noopener" href="https://github.com/Netflix/eureka" title="Netflix Eureka">Netflix Eureka</a></td>
</tr>
<tr>
<td>åˆ†å¸ƒå¼åè°ƒ</td>
<td></td>
<td><a target="_blank" rel="noopener" href="https://github.com/apache/zookeeper" title="Zookeeper 3.4.x ï¼ˆ3.4.4é™¤å¤–ï¼‰">Zookeeper 3.4.x ï¼ˆ3.4.4é™¤å¤–ï¼‰</a></td>
</tr>
<tr>
<td>Springç”Ÿæ€ç³»ç»Ÿ</td>
<td></td>
<td>Spring Bean annotations(@Bean, @Service, @Component, @Repository) 3.x and 4.x</td>
</tr>
<tr>
<td>Spring Core Async SuccessCallback&#x2F;FailureCallback&#x2F;ListenableFutureCallback 4.x</td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/Netflix/Hystrix" title="Hystrix: åˆ†å¸ƒå¼ç³»ç»Ÿå»¶æ—¶å’Œæ•…éšœå®¹é”™ 1.4.20 -&gt; 1.5.12">Hystrix: åˆ†å¸ƒå¼ç³»ç»Ÿå»¶æ—¶å’Œæ•…éšœå®¹é”™ 1.4.20 -&gt; 1.5.12</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td>è°ƒåº¦å™¨</td>
<td></td>
<td><a target="_blank" rel="noopener" href="https://github.com/elasticjob/elastic-job" title="Elastic Job 2.x">Elastic Job 2.x</a></td>
</tr>
<tr>
<td>OpenTracingç¤¾åŒºæ”¯æŒ</td>
<td></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://github.com/alibaba/canal" title="Canal: é˜¿é‡Œå·´å·´çš„åŸºäºMySQL binlogçš„å¢é‡è®¢é˜…ä¸æ¶ˆè´¹ç»„ä»¶ 1.0.25 -&gt; 1.1.2">Canal: é˜¿é‡Œå·´å·´çš„åŸºäºMySQL binlogçš„å¢é‡è®¢é˜…ä¸æ¶ˆè´¹ç»„ä»¶ 1.0.25 -&gt; 1.1.2</a></td>
<td></td>
<td></td>
</tr>
<tr>
<td>JSON</td>
<td></td>
<td><a target="_blank" rel="noopener" href="https://github.com/google/gson" title="GSON 2.8.x">GSON 2.8.x</a></td>
</tr>
<tr>
<td>Vert.x ç”Ÿæ€</td>
<td></td>
<td>Vert.x Eventbus 3.2+</td>
</tr>
<tr>
<td>Vert.x Web 3.x</td>
<td></td>
<td></td>
</tr>
<tr>
<td>çº¿ç¨‹è°ƒåº¦æ¡†æ¶</td>
<td></td>
<td><a target="_blank" rel="noopener" href="https://github.com/spring-projects/spring-framework" title="Spring @Async 4.x and 5.x">Spring @Async 4.x and 5.x</a></td>
</tr>
<tr>
<td>ç¼“å­˜</td>
<td></td>
<td><a target="_blank" rel="noopener" href="https://www.ehcache.org/" title="Ehcache 2.x">Ehcache 2.x</a></td>
</tr>
<tr>
<td>Kotlin</td>
<td></td>
<td><a target="_blank" rel="noopener" href="https://kotlinlang.org/docs/reference/coroutines-overview.html" title="Coroutine 1.0.1 -&gt; 1.3.x">Coroutine 1.0.1 -&gt; 1.3.x</a></td>
</tr>
</tbody></table>
<p>è¦æ±‚jdk1.8+ï¼Œ_<strong>è¿™ç§æ–¹å¼éœ€è¦é‡å¯ï¼Œè¯·å®‰æ’æ—¶é—´è°¨æ…æ“ä½œã€‚</strong>_</p>
<ol>
<li>ä¸‹è½½å¹¶è§£å‹agentå‹ç¼©åŒ…</li>
</ol>
<blockquote>
<p>Â mkdir &#x2F;agent &amp;&amp; curl <a target="_blank" rel="noopener" href="http://transfer.paas.haier.net/hco9/apache-skywalking-java-agent-9.5.0.tgz">http://transfer.paas.haier.net/hco9/apache-skywalking-java-agent-9.5.0.tgz</a> -o &#x2F;agent.tar.gz \<br>Â &amp;&amp; tar zxf &#x2F;agent.tar.gz -C &#x2F;agentÂ </p>
</blockquote>
<ol start="2">
<li><p>ç¼–è¾‘skywalkingçš„agenté…ç½®æ–‡ä»¶(æ‰“å¼€<code>config/agent.config</code>),æŒ‡å®šæœåŠ¡åå’ŒskywalkingæœåŠ¡ç«¯ï¼ˆç”Ÿäº§æˆ–è€…æµ‹è¯•ï¼‰ï¼Œå‚è€ƒå¦‚ä¸‹å›¾<img src="/images/1766456626-8b06f2b812a2498bb7e8fcee62303422.png"><img src="/images/1766456626-a0d65fc62ff373ac0820e3dd472f5242.png"></p>
</li>
<li><p>javaå¯åŠ¨å‘½ä»¤å¢åŠ -javaagent:&#x2F;agent&#x2F;skywalking-agent.jar</p>
</li>
</ol>
<p><em>ä¾‹å¦‚ï¼šjava -javaagent:&#x2F;agent&#x2F;skywalking-agent.jar -jar app.jar</em></p>
<h5 id="3-2-2-Tomcat"><a href="#3-2-2-Tomcat" class="headerlink" title="3.2.2 Tomcat"></a>3.2.2 Tomcat</h5><p><strong>waråŒ…tomcatå¯åŠ¨æ¥å…¥æ–¹æ³•(Tomcat6,Tomcat7,Tomcat8,Tomcat9)</strong></p>
<blockquote>
<p><em><strong>è¿™ç§æ–¹å¼éœ€è¦é‡å¯tomcatï¼Œè¯·å®‰æ’æ—¶é—´è°¨æ…æ“ä½œã€‚</strong></em></p>
</blockquote>
<h6 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h6><ul>
<li>Linux Tomcat6, Tomcat7, Tomcat8, Tomcat9ï¼ŒJDKè¦æ±‚1.8+</li>
</ul>
<ol>
<li>ä¸‹è½½å¹¶è§£å‹agentå‹ç¼©åŒ…</li>
</ol>
<blockquote>
<p><code>mkdir /agent &amp;&amp; curl http://transfer.paas.haier.net/hco9/apache-skywalking-java-agent-9.5.0.tgz -o /agent.tar.gz \ &amp;&amp; tar zxf /agent.tar.gz -C /agent</code></p>
</blockquote>
<ol start="2">
<li><p>ç¼–è¾‘skywalkingçš„agenté…ç½®æ–‡ä»¶(æ‰“å¼€<code>config/agent.config</code>),æŒ‡å®šæœåŠ¡åå’ŒskywalkingæœåŠ¡ç«¯ï¼ˆç”Ÿäº§æˆ–è€…æµ‹è¯•ï¼‰ï¼Œå‚è€ƒå¦‚ä¸‹å›¾<img src="/images/1766456626-2d69e0f1cbf7cd50c0e369bdfd08cecd.png"><img src="/images/1766456626-e153635ee91a4e78f75b5f336d7e5dfe.png"></p>
</li>
<li><p>è¿›å…¥tomcatçš„binç›®å½•ï¼Œç¼–è¾‘ catalina.shï¼Œé¦–è¡ŒåŠ å…¥</p>
</li>
</ol>
<blockquote>
<p><code>CATALINA_OPTS=&quot;$CATALINA_OPTS -javaagent:/agent/skywalking-agent.jar&quot;; export CATALINA_OPTS</code></p>
</blockquote>
<p>å‚è€ƒå¦‚ä¸‹å›¾<img src="/images/1766456626-956f76f195fffe9ba3a1e5deee2c88ff.png"></p>
<ol start="4">
<li>è¿è¡Œcatalina.sh</li>
</ol>
<blockquote>
<p><code>sh catalina.sh</code></p>
</blockquote>
<h6 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h6><ul>
<li>Tomcat6, Tomcat7, Tomcat8, Tomcat9ï¼ŒJDKè¦æ±‚1.8+</li>
</ul>
<ol>
<li><p>ä¸‹è½½å¹¶è§£å‹agentå‹ç¼©åŒ…åˆ°æŒ‡å®šç›®å½•ï¼Œè®°ä½è§£å‹è·¯å¾„ï¼Œä¾‹å¦‚ï¼šD:\skywalking-agent\skywalking-agent.jar</p>
</li>
<li><p>æ‰¾åˆ° catalina.bat æ–‡ä»¶å¹¶æ‰¾åˆ°ä»¥ä¸‹é…ç½®æ®µï¼š</p>
</li>
</ol>
<blockquote>
<p>:doStart<br>shift<br>if â€œ%TITLE%â€ &#x3D;&#x3D; â€œâ€ set TITLE&#x3D;Tomcat<br>set _EXECJAVA&#x3D;start â€œ%TITLE%â€ %_RUNJAVA%<br>â€¦</p>
</blockquote>
<p>åœ¨<code>set _EXECJAVA</code>è¡Œå‰æ·»åŠ ï¼š</p>
<blockquote>
<p>set JAVA_OPTS&#x3D;%JAVA_OPTS% -javaagent:D:\skywalking-agent\skywalking-agent.jar<br>set JAVA_OPTS&#x3D;%JAVA_OPTS% -Dskywalking.agent.service_name&#x3D;s12345::your-service<br>set JAVA_OPTS&#x3D;%JAVA_OPTS% -Dskywalking.collector.backend_service&#x3D;swagent.skywalking.haier.net:11800</p>
</blockquote>
<ol start="3">
<li>é‡å¯tomcat</li>
</ol>
<h5 id="3-2-3-Weblogic"><a href="#3-2-3-Weblogic" class="headerlink" title="3.2.3 Weblogic"></a>3.2.3 Weblogic</h5><ol>
<li>ä¸‹è½½å¹¶è§£å‹agentå‹ç¼©åŒ…ç›®å½•&#x2F;opt</li>
</ol>
<blockquote>
<p><code>cd /opt &amp;&amp; wget http://10.138.66.1/nzMC7/agent.tar.gz --no-check-certificate</code></p>
<p><code>unzip agent.zip</code></p>
</blockquote>
<ol start="2">
<li>ä¿®æ”¹ weblogic&#x2F;Oracle&#x2F;Middleware&#x2F;Oracle_Home&#x2F;user_projects&#x2F;domains&#x2F;base_domain&#x2F;binç›®å½•ä¸‹çš„setDomainEnv.sh æ–‡ä»¶</li>
</ol>
<blockquote>
<p><code>JAVA_PROPERTIES=&quot;$&#123;JAVA_PROPERTIES&#125; $&#123;WLP_JAVA_PROPERTIES&#125; -javaagent:/opt/agent/skywalking-agent.jar -Dskywalking.agent.service_name=sç ::æœåŠ¡åç§° -Dskywalking.collector.backend_service=swagent.skywalking.paas-sit.haier.net:11800 &quot;</code></p>
</blockquote>
<p>ä¾‹å¦‚é¡¹ç›®s00222ä¸‹æœ‰crm-baseæœåŠ¡</p>
<blockquote>
<p><code>JAVA_PROPERTIES=&quot;$&#123;JAVA_PROPERTIES&#125; $&#123;WLP_JAVA_PROPERTIES&#125; -javaagent:/opt/agent/skywalking-agent.jar -Dskywalking.agent.service_name=s00222::crm-base -Dskywalking.collector.backend_service=swagent.skywalking.paas-sit.haier.net:11800&quot;</code></p>
</blockquote>
<ol start="3">
<li>è¿è¡Œ &#x2F;weblogic&#x2F;Oracle&#x2F;Middleware&#x2F;Oracle_Home&#x2F;user_projects&#x2F;domains&#x2F;base_domain ç›®å½•ä¸‹çš„startWebLogic.sh</li>
</ol>
<blockquote>
<p><code>sh startWebLogic.sh</code></p>
</blockquote>
<h5 id="3-2-4-Jetty"><a href="#3-2-4-Jetty" class="headerlink" title="3.2.4 Jetty"></a>3.2.4 Jetty</h5><ol>
<li>ä¸‹è½½å¹¶è§£å‹agentå‹ç¼©åŒ…ç›®å½•&#x2F;opt</li>
</ol>
<blockquote>
<p><code>cd /opt &amp;&amp; wget http://10.138.66.1/nzMC7/agent.tar.gz --no-check-certificate</code></p>
<p><code>unzip agent.zip</code></p>
</blockquote>
<ol start="2">
<li>ä¿®æ”¹ jetty.sh</li>
</ol>
<blockquote>
<p><code>JAVA_OPTIONS=&quot;$&#123;JAVA_OPTIONS&#125; -javaagent:/opt/agent/skywalking-agent.jar -Dskywalking.agent.service_name=sç ::æœåŠ¡åç§° -Dskywalking.collector.backend_service=swagent.skywalking.paas-sit.haier.net:11800&quot;</code></p>
</blockquote>
<ol start="3">
<li>ä¾‹å¦‚é¡¹ç›®s00222ä¸‹æœ‰crm-baseæœåŠ¡</li>
</ol>
<blockquote>
<p><code>JAVA_OPTIONS=&quot;$&#123;JAVA_OPTIONS&#125; -javaagent:/opt/agent/skywalking-agent.jar -Dskywalking.agent.service_name=s00222::crm-base -Dskywalkin</code></p>
</blockquote>
<h5 id="3-2-5-PHP-ä»…ä¾›å‚è€ƒï¼Œéœ€éªŒè¯å¯é æ€§"><a href="#3-2-5-PHP-ä»…ä¾›å‚è€ƒï¼Œéœ€éªŒè¯å¯é æ€§" class="headerlink" title="3.2.5 PHP(ä»…ä¾›å‚è€ƒï¼Œéœ€éªŒè¯å¯é æ€§)"></a>3.2.5 PHP(ä»…ä¾›å‚è€ƒï¼Œéœ€éªŒè¯å¯é æ€§)</h5><p>å®˜æ–¹æ–‡æ¡£å‚è€ƒï¼š</p>
<p><a target="_blank" rel="noopener" href="https://skywalking.apache.org/docs/skywalking-php/latest/readme/">https://skywalking.apache.org/docs/skywalking-php/latest/readme/</a></p>
<ul>
<li>SkyWalking PHP agent æ”¯æŒ PHP 7.4 åŠä»¥ä¸Šã€‚</li>
</ul>
<p><strong>1ï¼‰å®‰è£… SkyWalking PHP Agent</strong></p>
<ol>
<li><strong>å®‰è£… PHP æ‰©å±•ä¾èµ–</strong></li>
</ol>
<blockquote>
<p><code>_# CentOS_</code></p>
<p><code>sudo yum install php-devel gcc autoconf</code></p>
<p><code>_# Ubuntu_</code></p>
<p><code>sudo apt-get install php-dev build-essential autoconf</code></p>
</blockquote>
<ol start="2">
<li><strong>é€šè¿‡ PECL å®‰è£…æ‰©å±•</strong></li>
</ol>
<blockquote>
<p><code>sudo pecl install skywalking_agent</code></p>
</blockquote>
<ol start="3">
<li><strong>éªŒè¯æ‰©å±•å®‰è£…</strong></li>
</ol>
<blockquote>
<p><code>php -m | grep skywalking_agent</code></p>
<p><code>_è¾“å‡ºåº”ä¸ºï¼šskywalking_agent_</code></p>
</blockquote>
<hr>
<p><strong>2ï¼‰é…ç½® SkyWalking Agent</strong></p>
<ol>
<li><p><strong>ä¿®æ”¹ PHP é…ç½®æ–‡ä»¶</strong></p>
<p>Â Â <strong>skywalking.collector.backend_serviceæµ‹è¯•åœ°å€ï¼š****swagent.skywalking.paas-sit.haier.net:11800</strong> <strong>skywalking.collector.backend_serviceç”Ÿäº§åœ°å€ï¼š****swagent.skywalking.haier.net:11800</strong></p>
<blockquote>
<p>extension&#x3D;skywalking_agent.so</p>
<p>[skywalking]<br>; åŸºç¡€é…ç½®<br>skywalking.enable&#x3D;On<br>skywalking_agent.skywalking_version &#x3D; 9<br>skywalking_agent.service_name&#x3D;s00222::crm-base ; è‡ªå®šä¹‰æœåŠ¡å[ä»¥ Sç ::æœåŠ¡å æ ¼å¼]<br>skywalking_agent.server_addr&#x3D;swagent.skywalking.paas-sit.haier.net:11800Â  ; SkyWalking OAP åœ°å€</p>
<p>; æ—¥å¿—é…ç½®<br>skywalking.log_level&#x3D;info<br>skywalking_agent.log_file &#x3D; &#x2F;tmp&#x2F;skywalking_agent.log</p>
</blockquote>
</li>
</ol>
<p><strong>3ï¼‰é‡å¯PHPæœåŠ¡</strong></p>
<h5 id="3-2-5-Next-js"><a href="#3-2-5-Next-js" class="headerlink" title="3.2.5 Next.js"></a>3.2.5 Next.js</h5><ol>
<li>å®‰è£…skywalkingå…³äºnodejsçš„åº“</li>
</ol>
<blockquote>
<p><code>npm install --save skywalking-backend-js</code></p>
</blockquote>
<ol start="2">
<li>è‡ªå®šä¹‰server.jsæœåŠ¡æ–‡ä»¶</li>
</ol>
<p>åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªserver.jsçš„æ–‡ä»¶ï¼Œæ–‡ä»¶èƒ½å®¹å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>const { createServer } &#x3D; require(â€˜httpâ€™);<br>const { parse } &#x3D; require(â€˜urlâ€™);<br>const next &#x3D; require(â€˜nextâ€™);</p>
<p>const dev &#x3D; process.env.NODE_ENV !&#x3D;&#x3D; â€˜productionâ€™;<br>const app &#x3D; next({ dev });<br>const handle &#x3D; app.getRequestHandler();<br>const agent &#x3D; require(â€˜skywalking-backend-jsâ€™).default;<br>agent.start({<br>Â  Â  Â serviceName: â€˜S00000::test-service-nameâ€™,<br>Â  Â  Â serviceInstance: â€˜test-service-instanceâ€™,<br>Â  Â  Â collectorAddress: â€˜swagent.skywalking.paas-sit.haier.net:11800â€™,<br>Â  Â  Â SW_AGENT_COLLECTOR_BACKEND_SERVICES: â€˜swagent.skywalking.paas-sit.haier.net:11800â€™,<br>});</p>
<p>app.prepare().then(() &#x3D;&gt; {<br>Â  Â  const server &#x3D; createServer((req, res) &#x3D;&gt; {<br>Â  Â  Â  Â  const parsedUrl &#x3D; parse(req.url, true);<br>Â  Â  Â  Â  handle(req, res, parsedUrl);<br>Â  Â  });</p>
<p>Â  Â  &#x2F;&#x2F; åœ¨è¿™é‡Œæ·»åŠ ä½ æƒ³è¦æ‰§è¡Œçš„ä»£ç <br>Â  Â  const customCode &#x3D; () &#x3D;&gt; {<br>Â  Â  Â  Â  console.log(â€˜This is my custom code when the server starts listening.â€™);<br>Â  Â  Â  Â  &#x2F;&#x2F; å¯ä»¥æ·»åŠ æ›´å¤šé€»è¾‘ï¼Œä¾‹å¦‚åˆå§‹åŒ–ä¸€äº›æœåŠ¡ã€è¿æ¥æ•°æ®åº“ç­‰<br>Â  Â  };</p>
<p>Â  Â  server.listen(3000, (err) &#x3D;&gt; {<br>Â  Â  Â  Â  if (err) throw err;<br>Â  Â  Â  Â  console.log(â€˜&gt; Ready on <a target="_blank" rel="noopener" href="http://localhost:3000/">http://localhost:3000</a>â€˜);<br>Â  Â  Â  Â  &#x2F;&#x2F; è°ƒç”¨è‡ªå®šä¹‰ä»£ç <br>Â  Â  Â  Â  customCode();<br>Â  Â  });<br>});</p>
</blockquote>
<ol start="3">
<li>ä¿®æ”¹é¡¹ç›®çš„package.jsonæ–‡ä»¶</li>
</ol>
<blockquote>
<p>{<br>Â  â€œscriptsâ€: {<br>Â  Â  â€œdevâ€: â€œnode server.jsâ€,<br>Â  Â  â€œbuildâ€: â€œnext buildâ€,<br>Â  Â  â€œstartâ€: â€œNODE_ENV&#x3D;production node server.jsâ€<br>Â  }<br>}</p>
</blockquote>
<p>å®˜æ–¹æ–‡æ¡£å‚è€ƒé“¾æ¥ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://nextjs.frontendx.cn/docs/#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%9C%8D%E5%8A%A1%E7%AB%AF%E8%B7%AF%E7%94%B1">https://nextjs.frontendx.cn/docs/#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%9C%8D%E5%8A%A1%E7%AB%AF%E8%B7%AF%E7%94%B1</a></p>
<ol start="4">
<li>å¯åŠ¨é¡¹ç›®</li>
</ol>
<p>è®¿é—®é¡¹ç›®åï¼Œåˆ°skywalkingç½‘ç«™çœ‹æ˜¯å¦æœ‰æ•°æ®ä¸ŠæŠ¥ï¼Œå¦‚æœæœ‰åˆ™è¡¨æ˜å·²ç»æ¥å…¥æˆåŠŸã€‚</p>
<h5 id="3-2-6-Go"><a href="#3-2-6-Go" class="headerlink" title="3.2.6 Go"></a>3.2.6 Go</h5><p>å®˜æ–¹æ–‡æ¡£å‚è€ƒï¼š</p>
<p><a target="_blank" rel="noopener" href="https://skywalking.apache.org/docs/skywalking-go/latest/readme/">https://skywalking.apache.org/docs/skywalking-go/latest/readme/</a></p>
<h5 id="3-2-7-Python"><a href="#3-2-7-Python" class="headerlink" title="3.2.7 Python"></a>3.2.7 Python</h5><p>å®˜æ–¹æ–‡æ¡£å‚è€ƒï¼š</p>
<p><a target="_blank" rel="noopener" href="https://skywalking.apache.org/docs/skywalking-python/latest/readme/">https://skywalking.apache.org/docs/skywalking-python/latest/readme/</a></p>
<h5 id="3-2-8-æ¦‚è§ˆ"><a href="#3-2-8-æ¦‚è§ˆ" class="headerlink" title="3.2.8 æ¦‚è§ˆ"></a>3.2.8 æ¦‚è§ˆ</h5><h6 id="ğŸ“-å„ç¯å¢ƒé…ç½®æ–¹æ³•ä¸€è§ˆ"><a href="#ğŸ“-å„ç¯å¢ƒé…ç½®æ–¹æ³•ä¸€è§ˆ" class="headerlink" title="ğŸ“ å„ç¯å¢ƒé…ç½®æ–¹æ³•ä¸€è§ˆ"></a>ğŸ“ å„ç¯å¢ƒé…ç½®æ–¹æ³•ä¸€è§ˆ</h6><table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>è¿è¡Œç¯å¢ƒ</td>
<td>é…ç½®æ–‡ä»¶</td>
<td>å…³é”®æ“ä½œ</td>
<td>é…ç½®ç¤ºä¾‹</td>
</tr>
<tr>
<td>Linux Tomcat 7&#x2F;8</td>
<td>tomcat&#x2F;bin&#x2F;catalina.sh</td>
<td>åœ¨æ–‡ä»¶é¦–è¡Œåæ·»åŠ  CATALINA_OPTS è®¾ç½®ã€‚</td>
<td>CATALINA_OPTS&#x3D;â€$CATALINA_OPTS -javaagent:&#x2F;path&#x2F;to&#x2F;skywalking-agent.jarâ€; export CATALINA_OPTS</td>
</tr>
<tr>
<td>Windows Tomcat 7&#x2F;8</td>
<td>tomcat&#x2F;bin&#x2F;catalina.bat</td>
<td>åœ¨æ–‡ä»¶é¦–è¡Œåä½¿ç”¨ set å‘½ä»¤è®¾ç½®ã€‚</td>
<td>set â€œCATALINA_OPTS&#x3D;-javaagent:&#x2F;path&#x2F;to&#x2F;skywalking-agent.jarâ€</td>
</tr>
<tr>
<td>ç‹¬ç«‹ JAR åº”ç”¨</td>
<td>åº”ç”¨å¯åŠ¨å‘½ä»¤è¡Œ</td>
<td>åœ¨ java -jar å‘½ä»¤å‰æ·»åŠ  -javaagent å‚æ•°ã€‚</td>
<td>java -javaagent:&#x2F;path&#x2F;to&#x2F;skywalking-agent.jar -jar yourApp.jar</td>
</tr>
<tr>
<td>Jetty æœåŠ¡</td>
<td>jetty.sh (æˆ–å¯åŠ¨è„šæœ¬)</td>
<td>åœ¨å¯åŠ¨è„šæœ¬ä¸­æ·»åŠ è‡³ JAVA_OPTIONS ç¯å¢ƒå˜é‡ã€‚</td>
<td>export JAVA_OPTIONS&#x3D;â€${JAVA_OPTIONS} -javaagent:&#x2F;path&#x2F;to&#x2F;skywalking-agent.jarâ€</td>
</tr>
</tbody></table>
<h6 id="ğŸ”§-é€šç”¨æ­¥éª¤ä¸éªŒè¯"><a href="#ğŸ”§-é€šç”¨æ­¥éª¤ä¸éªŒè¯" class="headerlink" title="ğŸ”§ é€šç”¨æ­¥éª¤ä¸éªŒè¯"></a>ğŸ”§ é€šç”¨æ­¥éª¤ä¸éªŒè¯</h6><ol>
<li><p>è·å–Agentï¼šä» <a target="_blank" rel="noopener" href="https://skywalking.apache.org/" title="Apache SkyWalking å®˜ç½‘">Apache SkyWalking å®˜ç½‘</a> ä¸‹è½½å¹¶è§£å‹ Agentï¼Œç¡®è®¤ <code>skywalking-agent.jar</code> æ–‡ä»¶çš„å®é™…å­˜æ”¾è·¯å¾„ã€‚</p>
</li>
<li><p>ä¿®æ”¹é…ç½®ï¼šæ ¹æ®æ‚¨çš„è¿è¡Œç¯å¢ƒï¼ŒæŒ‰ä¸Šè¡¨ä¿®æ”¹å¯¹åº”çš„é…ç½®æ–‡ä»¶æˆ–å¯åŠ¨å‘½ä»¤ï¼ŒåŠ¡å¿…å°†å…¶ä¸­çš„ <code>/path/to/</code> æ›¿æ¢ä¸ºæ‚¨çš„å®é™…è·¯å¾„ã€‚</p>
</li>
<li><p>é‡å¯ç”Ÿæ•ˆï¼šé‡å¯æ‚¨çš„ Tomcatã€Jetty æœåŠ¡æˆ–åº”ç”¨ï¼Œä½¿é…ç½®ç”Ÿæ•ˆã€‚</p>
</li>
<li><p>éªŒè¯ï¼šè§‚å¯Ÿåº”ç”¨å¯åŠ¨æ—¥å¿—ï¼Œè‹¥åŒ…å« â€œSkyWalking agent startedâ€¦â€ ç­‰å­—æ ·ï¼Œé€šå¸¸è¡¨ç¤º Agent å·²æˆåŠŸåŠ è½½ã€‚éšåå¯åœ¨ SkyWalking UI ä¸­æŸ¥çœ‹æ‚¨çš„åº”ç”¨æ•°æ®ã€‚</p>
</li>
</ol>
<h6 id="ğŸ’¡-é‡è¦æç¤º"><a href="#ğŸ’¡-é‡è¦æç¤º" class="headerlink" title="ğŸ’¡ é‡è¦æç¤º"></a>ğŸ’¡ é‡è¦æç¤º</h6><ul>
<li><p>è·¯å¾„é—®é¢˜ï¼šWindows ç³»ç»Ÿä¸­çš„è·¯å¾„è¯·ä½¿ç”¨åæ–œæ æˆ–è½¬ä¹‰ï¼Œä¾‹å¦‚ï¼š<code>-javaagent:C:\agent\skywalking-agent.jar</code>ã€‚</p>
</li>
<li><p>é…ç½®ç»§æ‰¿ï¼šåœ¨ Tomcat çš„ <code>catalina.sh/bat</code> ä¸­è®¾ç½® <code>CATALINA_OPTS</code> æ˜¯æ¨èæ–¹å¼ï¼Œå®ƒä¸“ç”¨äº Tomcat è‡ªèº«çš„å¯åŠ¨å‚æ•°ã€‚</p>
</li>
<li><p>ä¼˜å…ˆçº§ï¼šè‹¥åŒæ—¶è®¾ç½®äº† <code>JAVA_OPTS</code> å’Œ <code>CATALINA_OPTS</code>ï¼Œä¸å†…å­˜ã€ç³»ç»Ÿå±æ€§ç›¸å…³çš„é€šå¸¸æ”¾å…¥ <code>JAVA_OPTS</code>ï¼Œè€Œ Agent è¿™ç±»ç›‘æ§å·¥å…·å‚æ•°æ”¾å…¥ <code>CATALINA_OPTS</code> æ›´æ¸…æ™°ã€‚</p>
</li>
</ul>
 
      <!-- reward -->
      
      <div id="reword-out">
        <div id="reward-btn">
          æ‰“èµ
        </div>
      </div>
      
    </div>
    

    <!-- copyright -->
    
    <div class="declare">
      <ul class="post-copyright">
        <li>
          <i class="ri-copyright-line"></i>
          <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>
          
          æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œè‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
          
        </li>
      </ul>
    </div>
    
    <footer class="article-footer">
       
<div class="share-btn">
      <span class="share-sns share-outer">
        <i class="ri-share-forward-line"></i>
        åˆ†äº«
      </span>
      <div class="share-wrap">
        <i class="arrow"></i>
        <div class="share-icons">
          
          <a class="weibo share-sns" href="javascript:;" data-type="weibo">
            <i class="ri-weibo-fill"></i>
          </a>
          <a class="weixin share-sns wxFab" href="javascript:;" data-type="weixin">
            <i class="ri-wechat-fill"></i>
          </a>
          <a class="qq share-sns" href="javascript:;" data-type="qq">
            <i class="ri-qq-fill"></i>
          </a>
          <a class="douban share-sns" href="javascript:;" data-type="douban">
            <i class="ri-douban-line"></i>
          </a>
          <!-- <a class="qzone share-sns" href="javascript:;" data-type="qzone">
            <i class="icon icon-qzone"></i>
          </a> -->
          
          <a class="facebook share-sns" href="javascript:;" data-type="facebook">
            <i class="ri-facebook-circle-fill"></i>
          </a>
          <a class="twitter share-sns" href="javascript:;" data-type="twitter">
            <i class="ri-twitter-fill"></i>
          </a>
          <a class="google share-sns" href="javascript:;" data-type="google">
            <i class="ri-google-fill"></i>
          </a>
        </div>
      </div>
</div>

<div class="wx-share-modal">
    <a class="modal-close" href="javascript:;"><i class="ri-close-circle-line"></i></a>
    <p>æ‰«ä¸€æ‰«ï¼Œåˆ†äº«åˆ°å¾®ä¿¡</p>
    <div class="wx-qrcode">
      <img src="//api.qrserver.com/v1/create-qr-code/?size=150x150&data=http://example.com/2025/12/23/Skywalking%E7%9B%91%E6%8E%A7%E6%8E%A5%E5%85%A5%E9%85%8D%E7%BD%AE%E6%89%8B%E5%86%8C/" alt="å¾®ä¿¡åˆ†äº«äºŒç»´ç ">
    </div>
</div>

<div id="share-mask"></div>  
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Skywalking/" rel="tag">Skywalking</a></li></ul>

    </footer>
  </div>

   
  <nav class="article-nav">
    
      <a href="/2026/01/12/Zabbix%E4%BD%BF%E7%94%A8%E4%B8%80%E6%AE%B5%E6%97%B6%E9%97%B4%E5%90%8Ephp-fpm%E5%8D%A0%E7%94%A8%E5%A4%A7%E9%87%8F%E5%86%85%E5%AD%98%E9%97%AE%E9%A2%98/" class="article-nav-link">
        <strong class="article-nav-caption">ä¸Šä¸€ç¯‡</strong>
        <div class="article-nav-title">
          
            Zabbixä½¿ç”¨ä¸€æ®µæ—¶é—´åphp-fpmå ç”¨å¤§é‡å†…å­˜é—®é¢˜
          
        </div>
      </a>
    
    
      <a href="/2025/12/16/Keep-API%E9%95%9C%E5%83%8F%E8%8E%B7%E5%8F%96%E4%B8%8E%E9%83%A8%E7%BD%B2%E6%8C%87%E5%8D%97/" class="article-nav-link">
        <strong class="article-nav-caption">ä¸‹ä¸€ç¯‡</strong>
        <div class="article-nav-title">Keep-APIé•œåƒè·å–ä¸éƒ¨ç½²æŒ‡å—</div>
      </a>
    
  </nav>

  
   
  
   
    <script src="https://cdn.staticfile.org/twikoo/1.4.18/twikoo.all.min.js"></script>
    <div id="twikoo" class="twikoo"></div>
    <script>
        twikoo.init({
            envId: ""
        })
    </script>
 
</article>

</section>
      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2015-2026
        <i class="ri-heart-fill heart_icon"></i> JinTao Li
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>è®¿é—®äººæ•°:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>æµè§ˆæ¬¡æ•°:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
        <li>
          <a href="https://beian.miit.gov.cn/" target="_black" rel="nofollow">é²ICPå¤‡88888888</a>
        </li>
        
    </ul>
    <ul>
      
      <li>
          <img src="/images/beian.png"></img>
          <a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=01234567890123" target="_black" rel="nofollow">é’å²›å…¬å®‰ç½‘å¤‡01234567890123å·</a>
      </li>
        
    </ul>
    <ul>
      <li>
        <!-- cnzzç»Ÿè®¡ -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="Lijintao&#39;s Blog"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">ä¸»é¡µ</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">å½’æ¡£</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">åˆ†ç±»</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">æ ‡ç­¾</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="https://blog.csdn.net/u013235026">CSDN</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="https://www.cnblogs.com/jintaoli">åšå®¢å›­</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/images/272a163694dd8a415a43dbf85ac34778.jpg">å…³äºæˆ‘</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="æœç´¢">
        <i class="ri-search-line"></i>
      </a>
      
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>è¯·æˆ‘å–æ¯å’–å•¡å§~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">æ”¯ä»˜å®</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">å¾®ä¿¡</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->
 
<script src="/js/tocbot.min.js"></script>

<script>
  tocbot.init({
    tocSelector: ".tocbot",
    contentSelector: ".article-entry",
    headingSelector: "h1, h2, h3, h4, h5, h6",
    hasInnerContainers: true,
    scrollSmooth: true,
    scrollContainer: "main",
    positionFixedSelector: ".tocbot",
    positionFixedClass: "is-position-fixed",
    fixedSidebarOffset: "auto",
  });
</script>

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // sliderå±•å¼€çŠ¶æ€
                // todo: è¿™æ ·ä¸å¥½ï¼Œåé¢æ”¹æˆçŠ¶æ€
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // è·å¾—åŸå›¾å°ºå¯¸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<script src="https://cdn.staticfile.org/animejs/3.2.1/anime.min.js"></script>

<script src="/js/clickBoom1.js"></script>
 
<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // ç­‰å¾…ä¸¤ç§’é’Ÿåæ¢å¤
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // ç­‰å¾…ä¸¤ç§’é’Ÿåæ¢å¤
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->
 
<script src="/js/dz.js"></script>
 
<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    <div id="music">
    
    
    
    <iframe frameborder="no" border="1" marginwidth="0" marginheight="0" width="200" height="52"
        src="//music.163.com/outchain/player?type=2&id=2142256392&auto=1&height=32"></iframe>
</div>

<style>
    #music {
        position: fixed;
        right: 15px;
        bottom: 0;
        z-index: 998;
    }
</style>
    
    
<script>
  const password = "jintao1210";
  const lock_password = window.sessionStorage.getItem("lock_password");
  console.log(password, lock_password);
  if (lock_password !== password) {
    Swal.fire({
      title: "è¯·è¾“å…¥è®¿é—®å¯†ç ",
      input: "text",
      inputAttributes: {
        autocapitalize: "off",
      },
      showCancelButton: false,
      showLoaderOnConfirm: true,
      allowOutsideClick: false,
      confirmButtonText: "ç¡®å®š",
    }).then((result) => {
      console.log(result);
      if (result.isConfirmed) {
        console.log(password);
        if (result.value === password) {
          window.sessionStorage.setItem("lock_password", result.value);
        } else {
          Swal.fire({
            icon: "error",
            title: "å¯†ç é”™è¯¯ï¼Œè¯·é‡è¯•",
            confirmButtonText: "ç¡®å®š",
            allowOutsideClick: false,
          }).then(() => {
            window.location.reload();
          });
        }
      }
    });
  }
</script>


  </div>
</body>

</html>